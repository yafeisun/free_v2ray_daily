# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„æ€»è§ˆ

```
v2raynode/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ core/                     # â­ æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base_collector.py     # åŸºç¡€æ”¶é›†å™¨ç±»
â”‚   â”‚   â”œâ”€â”€ subscription_parser.py # ç»Ÿä¸€è®¢é˜…è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ collector_manager.py  # æ”¶é›†å™¨ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ ...                   # å…¶ä»–æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ collectors/               # â­ æ”¶é›†åŠŸèƒ½ - å„ç½‘ç«™æ”¶é›†å™¨
â”‚   â”‚   â”œâ”€â”€ mibei77.py           # ç±³è´77
â”‚   â”‚   â”œâ”€â”€ freeclashnode.py     # FreeClashNode
â”‚   â”‚   â”œâ”€â”€ cfmem.py             # CFMem
â”‚   â”‚   â””â”€â”€ ...                  # å…¶ä»–10ä¸ªç½‘ç«™
â”‚   â”œâ”€â”€ speedtest/                # â­ æµ‹é€ŸåŠŸèƒ½ - æµ‹é€Ÿè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ test_nodes_with_subscheck.py  # ä¸»è¦æµ‹é€Ÿè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ intelligent_timeout.py        # æ™ºèƒ½è¶…æ—¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ test_nodes_batch.py           # æ‰¹é‡æµ‹è¯•
â”‚   â”‚   â””â”€â”€ ...                  # å…¶ä»–æµ‹é€Ÿè„šæœ¬
â”‚   â”œâ”€â”€ utils/                   # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ cli/                     # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ main.py                  # ä¸»å…¥å£
â”œâ”€â”€ tools/                       # å¤–éƒ¨å·¥å…·
â”‚   â””â”€â”€ subscheck/               # â­ å¤–éƒ¨åº“ï¼ˆå¯é€‰ï¼‰
â”‚       â”œâ”€â”€ bin/                 # äºŒè¿›åˆ¶æ–‡ä»¶
â”‚       â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ config.py            # Pythoné…ç½®æ¥å£
â”‚       â””â”€â”€ manager.py           # ç®¡ç†å™¨
â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ result/                      # è¾“å‡ºç»“æœ
â””â”€â”€ docs/                        # æ–‡æ¡£
```

## ğŸ¯ åŠŸèƒ½æ¨¡å—åˆ’åˆ†

### 1. èŠ‚ç‚¹æ”¶é›† (Primary Function)
**ä½ç½®**: `src/collectors/` + `src/core/`
**èŒè´£**:
- å„ç½‘ç«™æ”¶é›†å™¨ï¼šè§£æç‰¹å®šç½‘ç«™çš„æ–‡ç« å’Œè®¢é˜…é“¾æ¥
- æ ¸å¿ƒæ¨¡å—ï¼šç»Ÿä¸€çš„åŸºç¡€æ”¶é›†å™¨å’Œè®¢é˜…è§£æé€»è¾‘

### 2. èŠ‚ç‚¹æµ‹é€Ÿ (Primary Function)
**ä½ç½®**: `tools/speedtest/` + `tools/subscheck/`
**èŒè´£**:
- speedtestï¼šPythonæµ‹é€Ÿè„šæœ¬ï¼Œæ”¯æŒå¤šç§æµ‹é€Ÿæ–¹å¼
- subscheckï¼šå¤–éƒ¨ä¸“ä¸šæµ‹é€Ÿå·¥å…·ï¼ˆå¯é€‰ï¼‰

## ğŸš€ GitHub Actions

### Action 1: èŠ‚ç‚¹æ”¶é›†
```yaml
- name: æ”¶é›†èŠ‚ç‚¹
  run: python3 src/main.py
```

### Action 2: èŠ‚ç‚¹æµ‹é€Ÿ
```yaml
- name: èŠ‚ç‚¹æµ‹é€Ÿ
  run: python3 tools/speedtest/test_nodes_with_subscheck.py
```

## ğŸ“‹ è®¾è®¡åŸåˆ™

1. **èŒè´£åˆ†ç¦»**ï¼šæ”¶é›†å’Œæµ‹é€Ÿç‹¬ç«‹ï¼Œå¯é€‰æ‹©æ€§ä½¿ç”¨subscheck
2. **æ¨¡å—åŒ–**ï¼šæ ¸å¿ƒåŠŸèƒ½é›†ä¸­ï¼Œç½‘ç«™ç‰¹å®šé€»è¾‘åˆ†ç¦»
3. **å¯æ‰©å±•**ï¼šæ˜“äºæ·»åŠ æ–°çš„æ”¶é›†å™¨å’Œæµ‹é€Ÿæ–¹å¼
4. **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰æ”¶é›†å™¨ä½¿ç”¨ç›¸åŒçš„åŸºç±»å’Œè§£æå™¨

## ğŸ”§ ä½¿ç”¨è¯´æ˜

### æ”¶é›†èŠ‚ç‚¹
```bash
python3 src/main.py --sites mibei77 cfmem
```

### æµ‹é€ŸèŠ‚ç‚¹
```bash
# ä½¿ç”¨subscheck
python3 src/speedtest/test_nodes_with_subscheck.py

# æˆ–ä½¿ç”¨å†…ç½®æµ‹é€Ÿ
python3 src/speedtest/test_nodes_batch.py
```

### å®‰è£…subscheckï¼ˆå¯é€‰ï¼‰
```bash
python3 tools/subscheck/bin/download_subscheck.py
```